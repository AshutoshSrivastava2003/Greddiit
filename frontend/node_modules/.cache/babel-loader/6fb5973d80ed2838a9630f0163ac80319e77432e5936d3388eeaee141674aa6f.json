{"ast":null,"code":"var _jsxFileName = \"/home/ashutosh/SEM4/dass-ass1/2021101056/frontend/src/login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\n// localStorage.setItem(\"SignedIn\",'false');\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Login = props => {\n  _s();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [pass, setPass] = useState('');\n  const Submission_Handler = e => {\n    // e.preventDefault();\n    // if (username === \"admin\" && pass === \"admin\") {\n    //     console.log(\"passed\");\n    //     localStorage.setItem(\"SignedIn\", 'true');\n    //     // let isSignedIn = localStorage.getItem(\"SignedIn\")\n    //     // console.log(isSignedIn);\n    //     // console.log('SignedIn');\n    //     navigate(\"/home\")\n    // }\n    // console.log(username)\n    e.preventDefault();\n    let jsondata;\n    // const response= await axios('api/Users/'+username)\n    axios.get('/api/Greddiit/Users/' + username).then(res => {\n      jsondata = res.data;\n      console.log(jsondata);\n      // console.log(jsondata[0].password)\n      // try {\n      if (jsondata[0].password === pass) {\n        console.log(\"pass\");\n        navigate(\"/home\");\n        localStorage.setItem(\"SignedIn\", 'true');\n        localStorage.setItem(\"userJSON\", JSON.stringify(jsondata[0]));\n      } else {\n        alert(\"Incorrect email/password\");\n      }\n      // }\n      // catch (error) {\n      //     console.log(\"Incorrect password\")\n      // }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: Submission_Handler,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        children: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"username\",\n        placeholder: \"username\",\n        id: \"username\",\n        name: \"username\",\n        value: username,\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"********\",\n        id: \"password\",\n        name: \"password\",\n        value: pass,\n        onChange: e => setPass(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => props.SwitchForm('register'),\n      children: \"Register here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(Login, \"wF/8navfri66+G4hG1y1gyCFYGQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Navigate","useNavigate","axios","Login","props","navigate","username","setUsername","pass","setPass","Submission_Handler","e","preventDefault","jsondata","get","then","res","data","console","log","password","localStorage","setItem","JSON","stringify","alert","target","value","SwitchForm"],"sources":["/home/ashutosh/SEM4/dass-ass1/2021101056/frontend/src/login.js"],"sourcesContent":["\nimport React, { useState } from \"react\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport axios from 'axios'\n// localStorage.setItem(\"SignedIn\",'false');\nexport const Login = (props) => {\n    const navigate = useNavigate();\n\n    const [username, setUsername] = useState('');\n    const [pass, setPass] = useState('');\n\n\n    const Submission_Handler = (e) => {\n        // e.preventDefault();\n        // if (username === \"admin\" && pass === \"admin\") {\n        //     console.log(\"passed\");\n        //     localStorage.setItem(\"SignedIn\", 'true');\n        //     // let isSignedIn = localStorage.getItem(\"SignedIn\")\n        //     // console.log(isSignedIn);\n        //     // console.log('SignedIn');\n        //     navigate(\"/home\")\n        // }\n        // console.log(username)\n        e.preventDefault();\n\n        let jsondata;\n        // const response= await axios('api/Users/'+username)\n        axios.get('/api/Greddiit/Users/' + username)\n            .then(res => {\n                jsondata = res.data;\n                console.log(jsondata)\n                // console.log(jsondata[0].password)\n                // try {\n                    if (jsondata[0].password === pass) {\n                        console.log(\"pass\");\n                        navigate(\"/home\");\n                        localStorage.setItem(\"SignedIn\", 'true');\n                        localStorage.setItem(\"userJSON\", JSON.stringify(jsondata[0]))\n                    }\n                    else{\n                        alert(\"Incorrect email/password\")\n                    }\n                // }\n                // catch (error) {\n                //     console.log(\"Incorrect password\")\n                // }\n            });\n\n\n\n    }\n    return (\n        <>\n            <form onSubmit={Submission_Handler}>\n\n                <label htmlFor=\"username\">email</label>\n                <input type=\"username\" placeholder=\"username\" id=\"username\" name=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} />\n                <label htmlFor=\"password\">password</label>\n                <input type=\"password\" placeholder=\"********\" id=\"password\" name=\"password\" value={pass} onChange={(e) => setPass(e.target.value)} />\n                <button type=\"submit\" >Log In</button>\n            </form>\n            <button onClick={() => props.SwitchForm('register')}>Register here</button>\n        </>\n    )\n}\n"],"mappings":";;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACxD,OAAOC,KAAK,MAAM,OAAO;AACzB;AAAA;AAAA;AACA,OAAO,MAAMC,KAAK,GAAIC,KAAK,IAAK;EAAA;EAC5B,MAAMC,QAAQ,GAAGJ,WAAW,EAAE;EAE9B,MAAM,CAACK,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAGpC,MAAMW,kBAAkB,GAAIC,CAAC,IAAK;IAC9B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAA,CAAC,CAACC,cAAc,EAAE;IAElB,IAAIC,QAAQ;IACZ;IACAX,KAAK,CAACY,GAAG,CAAC,sBAAsB,GAAGR,QAAQ,CAAC,CACvCS,IAAI,CAACC,GAAG,IAAI;MACTH,QAAQ,GAAGG,GAAG,CAACC,IAAI;MACnBC,OAAO,CAACC,GAAG,CAACN,QAAQ,CAAC;MACrB;MACA;MACI,IAAIA,QAAQ,CAAC,CAAC,CAAC,CAACO,QAAQ,KAAKZ,IAAI,EAAE;QAC/BU,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;QACnBd,QAAQ,CAAC,OAAO,CAAC;QACjBgB,YAAY,CAACC,OAAO,CAAC,UAAU,EAAE,MAAM,CAAC;QACxCD,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACX,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;MACjE,CAAC,MACG;QACAY,KAAK,CAAC,0BAA0B,CAAC;MACrC;MACJ;MACA;MACA;MACA;IACJ,CAAC,CAAC;EAIV,CAAC;;EACD,oBACI;IAAA,wBACI;MAAM,QAAQ,EAAEf,kBAAmB;MAAA,wBAE/B;QAAO,OAAO,EAAC,UAAU;QAAA,UAAC;MAAK;QAAA;QAAA;QAAA;MAAA,QAAQ,eACvC;QAAO,IAAI,EAAC,UAAU;QAAC,WAAW,EAAC,UAAU;QAAC,EAAE,EAAC,UAAU;QAAC,IAAI,EAAC,UAAU;QAAC,KAAK,EAAEJ,QAAS;QAAC,QAAQ,EAAGK,CAAC,IAAKJ,WAAW,CAACI,CAAC,CAACe,MAAM,CAACC,KAAK;MAAE;QAAA;QAAA;QAAA;MAAA,QAAG,eAC7I;QAAO,OAAO,EAAC,UAAU;QAAA,UAAC;MAAQ;QAAA;QAAA;QAAA;MAAA,QAAQ,eAC1C;QAAO,IAAI,EAAC,UAAU;QAAC,WAAW,EAAC,UAAU;QAAC,EAAE,EAAC,UAAU;QAAC,IAAI,EAAC,UAAU;QAAC,KAAK,EAAEnB,IAAK;QAAC,QAAQ,EAAGG,CAAC,IAAKF,OAAO,CAACE,CAAC,CAACe,MAAM,CAACC,KAAK;MAAE;QAAA;QAAA;QAAA;MAAA,QAAG,eACrI;QAAQ,IAAI,EAAC,QAAQ;QAAA,UAAE;MAAM;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA,QACnC,eACP;MAAQ,OAAO,EAAE,MAAMvB,KAAK,CAACwB,UAAU,CAAC,UAAU,CAAE;MAAA,UAAC;IAAa;MAAA;MAAA;MAAA;IAAA,QAAS;EAAA,gBAC5E;AAEX,CAAC;AAAA,GA3DYzB,KAAK;EAAA,QACGF,WAAW;AAAA;AAAA,KADnBE,KAAK;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}