{"ast":null,"code":"var _jsxFileName = \"/home/ashutosh/SEM4/dass-ass1/2021101056/frontend/src/requests.js\";\nimport React, { useState } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Requests = props => {\n  var storedJson = JSON.parse(localStorage.getItem('userJSON'));\n  const userId = storedJson._id;\n  const DisplayRequests = e => {\n    e.preventDefault();\n    const myDiv = document.createElement(\"div\");\n    document.getElementById(\"requests\").innerHTML = \"\";\n    var Array = [];\n    axios.get(`/api/Greddiit/Subgreddiit/${props.subgreddiitName}`).then(res => {\n      // console.log(`/api/Greddiit/Subgreddiit/${props.subgreddiitName}`)\n      Array = res.data[0].requests;\n      for (let i = 0; i < Array.length; i++) {\n        // console.log(\"/api/Greddiit/Users/getId/\" + Array[i])\n        axios.get(\"/api/Greddiit/Users/getId/\" + Array[i]).then(res => {\n          // const newItem = document.createElement(\"li\");\n          const line = document.createElement(\"hr\");\n          // const newButton = document.createElement(\"button\");\n          const name = document.createElement(\"li\");\n          name.textContent = res.data.firstname;\n          const name_l = document.createElement(\"li\");\n          name_l.textContent = \"First Name :\";\n          const username = document.createElement(\"li\");\n          username.textContent = res.data.username;\n          const description_l = document.createElement(\"li\");\n          description_l.textContent = \"Username :\";\n          myDiv.appendChild(name_l);\n          myDiv.appendChild(name);\n          myDiv.appendChild(description_l);\n          myDiv.appendChild(username);\n          var gredid;\n          axios.get(`/api/Greddiit/Subgreddiit/${props.subgreddiitName}`).then(res => {\n            gredid = res.data[0]._id;\n          });\n          const button = document.createElement(\"button\");\n          button.textContent = \"Accept\";\n          button.onclick = function () {\n            axios.post(\"/api/Greddiit/Subgreddiit/join/\" + gredid + \"/\" + res.data._id).then(res => {\n              alert('Accepted');\n            }).catch(err => {\n              // Handle the error response\n              console.error(err);\n              alert('Failed');\n            });\n          };\n          const button2 = document.createElement(\"button\");\n          button2.textContent = \"Decline\";\n          button2.onclick = function () {\n            axios.post(\"/api/Greddiit/Subgreddiit/remove/\" + gredid + \"/\" + res.data._id).then(res => {\n              alert('Rejected');\n            }).catch(err => {\n              // Handle the error response\n              console.error(err);\n              alert('Failed');\n            });\n          };\n          myDiv.appendChild(button);\n          myDiv.appendChild(button2);\n          myDiv.appendChild(line);\n        });\n      }\n    }).catch(error => {\n      console.error(error);\n      // setSubgreddiitExists(false);\n    });\n\n    document.getElementById(\"requests\").appendChild(myDiv);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Requests to join the subgreddiit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: DisplayRequests,\n      children: \"Display Requests\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"requests\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_c = Requests;\nvar _c;\n$RefreshReg$(_c, \"Requests\");","map":{"version":3,"names":["React","useState","axios","Requests","props","storedJson","JSON","parse","localStorage","getItem","userId","_id","DisplayRequests","e","preventDefault","myDiv","document","createElement","getElementById","innerHTML","Array","get","subgreddiitName","then","res","data","requests","i","length","line","name","textContent","firstname","name_l","username","description_l","appendChild","gredid","button","onclick","post","alert","catch","err","console","error","button2"],"sources":["/home/ashutosh/SEM4/dass-ass1/2021101056/frontend/src/requests.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from 'axios'\nexport const Requests = (props) => {\n    var storedJson = JSON.parse(localStorage.getItem('userJSON'));\n    const userId = storedJson._id\n\n    const DisplayRequests = (e) => {\n        e.preventDefault();\n        const myDiv = document.createElement(\"div\");\n        document.getElementById(\"requests\").innerHTML = \"\"\n        var Array = []\n        axios.get(`/api/Greddiit/Subgreddiit/${props.subgreddiitName}`)\n            .then((res) => {\n                // console.log(`/api/Greddiit/Subgreddiit/${props.subgreddiitName}`)\n                Array = res.data[0].requests\n                for (let i = 0; i < Array.length; i++) {\n                    // console.log(\"/api/Greddiit/Users/getId/\" + Array[i])\n                    axios.get(\"/api/Greddiit/Users/getId/\" + Array[i])\n                        .then((res) => {\n\n                            // const newItem = document.createElement(\"li\");\n                            const line = document.createElement(\"hr\");\n                            // const newButton = document.createElement(\"button\");\n                            const name = document.createElement(\"li\");\n                            name.textContent = res.data.firstname\n                            const name_l = document.createElement(\"li\");\n                            name_l.textContent = \"First Name :\"\n                            const username = document.createElement(\"li\");\n                            username.textContent = res.data.username\n                            const description_l = document.createElement(\"li\");\n                            description_l.textContent = \"Username :\"\n                            myDiv.appendChild(name_l)\n                            myDiv.appendChild(name);\n                            myDiv.appendChild(description_l)\n                            myDiv.appendChild(username);\n\n                            var gredid;\n                            axios.get(`/api/Greddiit/Subgreddiit/${props.subgreddiitName}`)\n                                .then((res) => { gredid = res.data[0]._id })\n\n                            const button = document.createElement(\"button\");\n                            button.textContent = \"Accept\";\n                            button.onclick = function () {\n\n                                axios.post(\"/api/Greddiit/Subgreddiit/join/\" + gredid + \"/\" + res.data._id)\n                                    .then((res) => {\n                                        alert('Accepted');\n                                    })\n                                    .catch(err => {\n                                        // Handle the error response\n                                        console.error(err);\n                                        alert('Failed');\n                                    });\n                            };\n                            const button2 = document.createElement(\"button\");\n                            button2.textContent = \"Decline\";\n                            button2.onclick = function () {\n                                axios.post(\"/api/Greddiit/Subgreddiit/remove/\" + gredid + \"/\" + res.data._id)\n                                    .then((res) => {\n                                        alert('Rejected');\n                                    })\n                                    .catch(err => {\n                                        // Handle the error response\n                                        console.error(err);\n                                        alert('Failed');\n                                    });\n\n                            };\n                            myDiv.appendChild(button)\n                            myDiv.appendChild(button2)\n                            myDiv.appendChild(line)\n                        })\n                }\n            })\n            .catch((error) => {\n                console.error(error);\n                // setSubgreddiitExists(false);\n            });\n        document.getElementById(\"requests\").appendChild(myDiv);\n    }\n    return (\n        <>\n            <h3>Requests to join the subgreddiit</h3>\n            <button onClick={DisplayRequests}>Display Requests</button>\n            <div id=\"requests\">\n\n            </div>\n        </>\n\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}